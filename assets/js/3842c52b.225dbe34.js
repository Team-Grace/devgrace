"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8852],{6287:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>i});var r=t(5735),a=t(4474);const s={},c="usePreservedCallback",l={id:"react/hooks/usePreservedCallback",title:"usePreservedCallback",description:"A custom hook that helps you preserve a given callback function and reuse it between component renders.",source:"@site/docs/react/hooks/usePreservedCallback.mdx",sourceDirName:"react/hooks",slug:"/react/hooks/usePreservedCallback",permalink:"/devgrace/docs/react/hooks/usePreservedCallback",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"useOnClickOutside",permalink:"/devgrace/docs/react/hooks/useOnClickOutside"},next:{title:"usePrevious",permalink:"/devgrace/docs/react/hooks/usePrevious"}},o={},i=[{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"as-is",id:"as-is",level:3},{value:"to-be (usePreservedCallback)",id:"to-be-usepreservedcallback",level:3}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.ah)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"usepreservedcallback",children:"usePreservedCallback"}),"\n",(0,r.jsx)(n.p,{children:"A custom hook that helps you preserve a given callback function and reuse it between component renders."}),"\n",(0,r.jsx)(n.p,{children:"This hook is especially useful when callback functions change during rendering. It prevents and optimizes the creation of unnecessary functions, and ensures that the latest version of the callback function is used."}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"interface",children:"Interface"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const usePreservedCallback: <T extends (...args: any[]) => any>(\n  callback: T\n) => (...args: any[]) => any;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"as-is",children:"as-is"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'import React, { useEffect, useState } from "react";\n\nconst Example = () => {\n  const [state, setState] = useState(0);\n\n  const callback = () => {\n    setState(state + 1);\n  };\n\n  useEffect(() => {\n    callback(); // Infinite calls \n  }, [callback]);\n\n  return (\n    <>{/* ... */}</>\n  );\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"to-be-usepreservedcallback",children:"to-be (usePreservedCallback)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import React, { useEffect, useState } from \"react\";\nimport { usePreservedCallback } from '@devgrace/react';\n\nconst Example = () => {\n  const [state, setState] = useState(0);\n\n  const callback = usePreservedCallback(() => {\n    setState(state + 1);\n  });\n\n  useEffect(() => {\n    callback(); // one-time calls \n  }, [callback]);\n\n  return (\n    <>{/* ... */}</>\n  );\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,a.ah)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},4474:(e,n,t)=>{t.d(n,{ah:()=>i});var r=t(4614);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=r.createContext({}),i=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,s=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=i(t),f=a,b=p["".concat(o,".").concat(f)]||p[f]||u[f]||s;return t?r.createElement(b,c(c({ref:n},d),{},{components:t})):r.createElement(b,c({ref:n},d))}));d.displayName="MDXCreateElement"}}]);